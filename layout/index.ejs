<section class="posts">
    <% page.posts.each(function (post) { %>
        <article class="post">
            <div class="post-title">
                <%
                    var title = post.title;
                    if(title === '')
                    {
                        title = __('NoTitle');
                    }
                %>
                <% if(!post.link && title){ %>
                    <a class="post-title-link" href="<%- url_for(post.path) %>">
                        <%= title %>
                    </a>
                <% }else{ %>
                    <%
                        var link_title = "Link to: " + post.link;
                    %>
                <%- link_to(post.link, link_title, {external: true, class: "post-title-link"})%>
                <% } %>
            </div>
            <div class="post-content">
                <%- post.excerpt %>
            </div>
            <div class="post-meta">
                <span class="post-time"><%- date(post.date, "YYYY-MM-DD") %></span>
                <%- list_tags(post.tags, {
                    show_count: false,
                    class: 'post-tags',
                    style: 'none',
                    separator: ''
                }) %>
                <a class="read-more" href="<%- url_for(post.path) %>"> 阅读全文 </a>
            </div>
        </article>
    <% }) %>
</section>
<%- partial('_partial/paginator', {post: page, index: true}) %>